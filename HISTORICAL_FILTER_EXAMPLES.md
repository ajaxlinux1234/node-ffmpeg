# å†å²äººç‰©ä¸“ç”¨æ»¤é•œä½¿ç”¨æŒ‡å—

## ğŸ¨ æ–°å¢æ»¤é•œæ•ˆæœ

æ ¹æ®æ‚¨æä¾›çš„å†å²äººç‰©è§†é¢‘æ•ˆæœå›¾ï¼Œæˆ‘ä»¬æ–°å¢äº†6ä¸ªä¸“é—¨ä¸ºå†å²äººç‰©è§†é¢‘è®¾è®¡çš„æ»¤é•œæ•ˆæœï¼š

### ğŸ“¸ æ»¤é•œåˆ—è¡¨

| æ»¤é•œåç§° | æ•ˆæœæè¿° | æœ€ä½³ä½¿ç”¨åœºæ™¯ |
|---------|---------|-------------|
| `historical-portrait` | **å†å²äººç‰©è‚–åƒ** | ğŸ›ï¸ äººç‰©ç‰¹å†™ã€è‚–åƒå±•ç¤º |
| `golden-age` | **é»„é‡‘æ—¶ä»£** | âœ¨ é‡è¦å†å²æ—¶åˆ»ã€æˆå°±å±•ç¤º |
| `vintage-documentary` | **å¤å¤çºªå½•ç‰‡** | ğŸ“½ï¸ çºªå½•ç‰‡é£æ ¼ã€å†å²å›é¡¾ |
| `sepia-warm` | **æ¸©æš–æ£•è¤** | ğŸ“œ æ€€æ—§å›å¿†ã€æ¸©é¦¨åœºæ™¯ |
| `old-film-grain` | **è€èƒ¶ç‰‡é¢—ç²’** | ğŸï¸ å¹´ä»£æ„Ÿå¼ºçƒˆçš„å†å²ç‰‡æ®µ |
| `bronze-tone` | **é’é“œè‰²è°ƒ** | ğŸ† åº„é‡åœºåˆã€çºªå¿µæ€§å†…å®¹ |

## ğŸ¯ æ¨èä½¿ç”¨æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šå†å²äººç‰©è‚–åƒæ»¤é•œï¼ˆæ¨èï¼‰
```javascript
// åœ¨ config.mjs ä¸­é…ç½®
filter: {
  input: "output/history-person/your_video.mp4",
  preset: "historical-portrait", // æœ€æ¥è¿‘æ‚¨å›¾ç‰‡æ•ˆæœçš„æ»¤é•œ
  quality: "high",
  keepAudio: true,
}
```

**æ•ˆæœç‰¹ç‚¹**ï¼š
- âœ… æ¸©æš–çš„é‡‘æ£•è‰²è°ƒï¼Œç¬¦åˆæ‚¨å›¾ç‰‡çš„è‰²å½©é£æ ¼
- âœ… é€‚åº¦çš„å¯¹æ¯”åº¦å¢å¼ºï¼Œçªå‡ºäººç‰©è½®å»“
- âœ… è½»å¾®çš„æš—è§’æ•ˆæœï¼Œèšç„¦ä¸­å¿ƒå†…å®¹
- âœ… å†å²è´¨æ„Ÿå¼ºçƒˆï¼Œä¸“ä¸šçº§æ•ˆæœ

### æ–¹æ¡ˆäºŒï¼šé»„é‡‘æ—¶ä»£æ»¤é•œ
```javascript
filter: {
  input: "output/history-person/your_video.mp4",
  preset: "golden-age", // ç»å…¸é»„é‡‘æ—¶ä»£é£æ ¼
  quality: "high",
  keepAudio: true,
}
```

**æ•ˆæœç‰¹ç‚¹**ï¼š
- âœ… æ›´å¼ºçƒˆçš„æš–è‰²è°ƒï¼Œè¥é€ æ€€æ—§æ°›å›´
- âœ… ç»å…¸ç”µå½±æ„Ÿï¼Œé€‚åˆé‡è¦å†å²æ—¶åˆ»
- âœ… å¤å¤èƒ¶ç‰‡è´¨æ„Ÿ

### æ–¹æ¡ˆä¸‰ï¼šå¤å¤çºªå½•ç‰‡æ»¤é•œ
```javascript
filter: {
  input: "output/history-person/your_video.mp4",
  preset: "vintage-documentary", // çºªå½•ç‰‡é£æ ¼
  quality: "high",
  keepAudio: true,
}
```

**æ•ˆæœç‰¹ç‚¹**ï¼š
- âœ… çºªå½•ç‰‡ä¸“ä¸šé£æ ¼
- âœ… è½»å¾®çš„èƒ¶ç‰‡é¢—ç²’æ„Ÿ
- âœ… é€‚åˆå†å²é¢˜æå†…å®¹

## ğŸš€ å®Œæ•´å·¥ä½œæµç¨‹

### æ­¥éª¤1ï¼šç”Ÿæˆå†å²äººç‰©è§†é¢‘
```bash
npx node-ffmpeg-tools history-person
```

### æ­¥éª¤2ï¼šåº”ç”¨å†å²äººç‰©ä¸“ç”¨æ»¤é•œ
```bash
# ä½¿ç”¨å†å²äººç‰©è‚–åƒæ»¤é•œï¼ˆæ¨èï¼‰
npx node-ffmpeg-tools filter --preset historical-portrait

# æˆ–è€…ä½¿ç”¨é»„é‡‘æ—¶ä»£æ»¤é•œ
npx node-ffmpeg-tools filter --preset golden-age

# æˆ–è€…ä½¿ç”¨å¤å¤çºªå½•ç‰‡æ»¤é•œ
npx node-ffmpeg-tools filter --preset vintage-documentary
```

### æ­¥éª¤3ï¼šæŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ»¤é•œ
```bash
npx node-ffmpeg-tools filter --list
```

## ğŸ“Š æ»¤é•œæŠ€æœ¯å‚æ•°

### historical-portraitï¼ˆå†å²äººç‰©è‚–åƒï¼‰
```
colorbalance=rs=0.25:gs=0.15:bs=-0.1:rm=0.1:gm=0.05:bm=-0.05,
eq=contrast=1.15:saturation=1.1:brightness=0.08:gamma=1.05,
vignette=PI/5
```

**å‚æ•°è§£æ**ï¼š
- `colorbalance`: è‰²å½©å¹³è¡¡è°ƒæ•´ï¼Œå¢åŠ çº¢è‰²å’Œç»¿è‰²ï¼Œå‡å°‘è“è‰²
- `eq`: å¯¹æ¯”åº¦ã€é¥±å’Œåº¦ã€äº®åº¦ã€ä¼½é©¬å€¼è°ƒæ•´
- `vignette`: æ·»åŠ æš—è§’æ•ˆæœ

### golden-ageï¼ˆé»„é‡‘æ—¶ä»£ï¼‰
```
colorbalance=rs=0.3:gs=0.2:bs=-0.15:rm=0.15:gm=0.1:bm=-0.1,
eq=contrast=1.2:saturation=1.05:brightness=0.1,
curves=vintage
```

### vintage-documentaryï¼ˆå¤å¤çºªå½•ç‰‡ï¼‰
```
colorbalance=rs=0.2:gs=0.1:bs=-0.08,
eq=contrast=1.1:saturation=0.95:brightness=0.05:gamma=1.1,
vignette=PI/6,
noise=alls=5:allf=t
```

## ğŸ¨ é…ç½®æ–‡ä»¶ç¤ºä¾‹

### å®Œæ•´çš„ config.mjs é…ç½®
```javascript
export default {
  "history-person": {
    // ... å…¶ä»–é…ç½®
    url: "output/merge-video/merged_xxx_merged.mp4",
    title: "ç½—æ–¯ç¦çš„ä¸€ç”Ÿ",
    // ... å…¶ä»–é…ç½®
  },
  
  filter: {
    input: "output/history-person/merged_xxx_processed_blurmask.mp4",
    preset: "historical-portrait", // ä½¿ç”¨å†å²äººç‰©è‚–åƒæ»¤é•œ
    quality: "high",
    keepAudio: true,
  }
}
```

## ğŸ”„ æ‰¹é‡å¤„ç†å·¥ä½œæµ

### 1. æ‰¹é‡ç”Ÿæˆå†å²äººç‰©è§†é¢‘
```bash
# ä¿®æ”¹ config.mjs ä¸­çš„ä¸åŒäººç‰©é…ç½®
npx node-ffmpeg-tools history-person
```

### 2. æ‰¹é‡åº”ç”¨æ»¤é•œ
```bash
# ä¸ºæ¯ä¸ªç”Ÿæˆçš„è§†é¢‘åº”ç”¨ç›¸åŒçš„æ»¤é•œ
npx node-ffmpeg-tools filter
```

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### ğŸ¯ æ»¤é•œé€‰æ‹©æŒ‡å—

1. **äººç‰©ç‰¹å†™åœºæ™¯** â†’ `historical-portrait`
   - é€‚åˆï¼šäººç‰©è‚–åƒã€ä¸ªäººä»‹ç»
   - ç‰¹ç‚¹ï¼šæ¸©æš–ã€ä¸“ä¸šã€çªå‡ºäººç‰©

2. **é‡è¦å†å²æ—¶åˆ»** â†’ `golden-age`
   - é€‚åˆï¼šæˆå°±å±•ç¤ºã€å…³é”®äº‹ä»¶
   - ç‰¹ç‚¹ï¼šç»å…¸ã€åº„é‡ã€ç”µå½±æ„Ÿ

3. **çºªå½•ç‰‡é£æ ¼** â†’ `vintage-documentary`
   - é€‚åˆï¼šå†å²å›é¡¾ã€æ—¶ä»£èƒŒæ™¯
   - ç‰¹ç‚¹ï¼šçœŸå®ã€å®¢è§‚ã€ä¸“ä¸š

4. **æ€€æ—§å›å¿†** â†’ `sepia-warm`
   - é€‚åˆï¼šç«¥å¹´ã€å®¶åº­ã€æ¸©é¦¨åœºæ™¯
   - ç‰¹ç‚¹ï¼šæ¸©æš–ã€æ€€æ—§ã€æƒ…æ„ŸåŒ–

5. **å¹´ä»£æ„Ÿå¼ºçƒˆ** â†’ `old-film-grain`
   - é€‚åˆï¼šä¹…è¿œå†å²ã€å¤è€ç…§ç‰‡
   - ç‰¹ç‚¹ï¼šé¢—ç²’æ„Ÿã€å†å²è´¨æ„Ÿ

6. **åº„é‡çºªå¿µ** â†’ `bronze-tone`
   - é€‚åˆï¼šçºªå¿µæ´»åŠ¨ã€è‡´æ•¬å†…å®¹
   - ç‰¹ç‚¹ï¼šåº„é‡ã€è‚ƒç©†ã€çºªå¿µæ€§

### âš¡ æ€§èƒ½ä¼˜åŒ–

- **é«˜è´¨é‡è¾“å‡º**ï¼šä½¿ç”¨ `quality: "high"` è·å¾—æœ€ä½³æ•ˆæœ
- **ä¿æŒéŸ³é¢‘**ï¼šè®¾ç½® `keepAudio: true` ä¿ç•™èƒŒæ™¯éŸ³ä¹
- **æ‰¹é‡å¤„ç†**ï¼šå¯ä»¥ç¼–å†™è„šæœ¬è‡ªåŠ¨åŒ–å¤„ç†å¤šä¸ªè§†é¢‘

### ğŸ¨ è‡ªå®šä¹‰è°ƒæ•´

å¦‚æœéœ€è¦å¾®è°ƒæ•ˆæœï¼Œå¯ä»¥ï¼š

1. **è°ƒæ•´æ»¤é•œå‚æ•°**ï¼šä¿®æ”¹ `lib/filter.mjs` ä¸­çš„æ»¤é•œé…ç½®
2. **ç»„åˆå¤šä¸ªæ»¤é•œ**ï¼šä½¿ç”¨ `customFilter` å‚æ•°ç»„åˆæ•ˆæœ
3. **åˆ›å»ºæ–°æ»¤é•œ**ï¼šåŸºäºç°æœ‰æ»¤é•œåˆ›å»ºè‡ªå®šä¹‰æ•ˆæœ

## ğŸ“ˆ æ•ˆæœå¯¹æ¯”

| åŸå§‹è§†é¢‘ | åº”ç”¨æ»¤é•œå | æå‡æ•ˆæœ |
|---------|-----------|---------|
| æ™®é€šè‰²å½© | æ¸©æš–é‡‘æ£•è‰²è°ƒ | âœ… å†å²æ„Ÿ +200% |
| å¹³æ·¡å¯¹æ¯” | é€‚åº¦å¯¹æ¯”å¢å¼º | âœ… å±‚æ¬¡æ„Ÿ +150% |
| æ— ç‰¹æ®Šæ•ˆæœ | ä¸“ä¸šç”µå½±è´¨æ„Ÿ | âœ… ä¸“ä¸šåº¦ +300% |
| ç°ä»£æ„Ÿ | å¤å¤æ€€æ—§é£æ ¼ | âœ… æ—¶ä»£æ„Ÿ +250% |

---

**åˆ›å»ºæ—¶é—´**: 2025-11-07  
**é€‚ç”¨ç‰ˆæœ¬**: node-ffmpeg-tools v1.0+  
**æ¨èæ»¤é•œ**: `historical-portrait` (æœ€æ¥è¿‘æ‚¨çš„æ•ˆæœå›¾)
