# è§†é¢‘æ»¤é•œä½¿ç”¨æŒ‡å—

## ğŸ“¸ åŠŸèƒ½ä»‹ç»

`filter` å‘½ä»¤æä¾›äº†ä¸°å¯Œçš„è§†é¢‘æ»¤é•œæ•ˆæœï¼ŒåŒ…æ‹¬ç”µå½±çº§è‰²å½©è°ƒæ•´ã€å¤å¤é£æ ¼ã€è‰ºæœ¯æ•ˆæœç­‰ï¼Œè®©ä½ çš„è§†é¢‘ç¬é—´æå‡è´¨æ„Ÿã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ»¤é•œ

```bash
npx node-ffmpeg-tools filter --list
```

### 2. ä½¿ç”¨é¢„è®¾æ»¤é•œ

```bash
# å‘½ä»¤è¡Œæ–¹å¼
npx node-ffmpeg-tools filter -i input.mp4 -p cinematic-warm

# é…ç½®æ–‡ä»¶æ–¹å¼
npx node-ffmpeg-tools filter
```

### 3. ä½¿ç”¨è‡ªå®šä¹‰æ»¤é•œ

```bash
npx node-ffmpeg-tools filter -i input.mp4 -c "eq=contrast=1.2:saturation=1.3"
```

## ğŸ¨ é¢„è®¾æ»¤é•œåˆ—è¡¨

### ç”µå½±é£æ ¼

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `cinematic-warm` | æ¸©æš–çš„ç”µå½±æ„Ÿ | æ€€æ—§ã€æ¸©é¦¨åœºæ™¯ |
| `cinematic-cool` | å†·å³»çš„ç”µå½±æ„Ÿ | ç§‘å¹»ã€æ‚¬ç–‘åœºæ™¯ |
| `cinematic-teal-orange` | é’æ©™è‰²è°ƒ | å¥½è±åå¤§ç‰‡é£æ ¼ |
| `noir` | é»‘è‰²ç”µå½± | é«˜å¯¹æ¯”åº¦é»‘ç™½ |

### å¤å¤é£æ ¼

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `vintage-film` | å¤å¤èƒ¶ç‰‡ | è€å¼èƒ¶ç‰‡æ•ˆæœ |
| `80s-vhs` | 80å¹´ä»£VHS | å½•åƒå¸¦æ•ˆæœ |
| `sepia` | æ£•è¤è‰² | è€ç…§ç‰‡æ•ˆæœ |

### è‰ºæœ¯é£æ ¼

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `dramatic` | æˆå‰§åŒ– | é«˜å¯¹æ¯”åº¦åœºæ™¯ |
| `soft-glow` | æŸ”å…‰ | æŸ”å’Œå…‰æ™•æ•ˆæœ |
| `high-contrast` | é«˜å¯¹æ¯”åº¦ | å¼ºçƒˆæ˜æš—å¯¹æ¯” |
| `vibrant` | é²œè‰³ | è‰²å½©é¥±å’Œå¢å¼º |

### è‰²å½©è°ƒæ•´

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `warm` | æš–è‰²è°ƒ | å¢åŠ æ¸©æš–æ„Ÿ |
| `cool` | å†·è‰²è°ƒ | å¢åŠ å†·å³»æ„Ÿ |
| `desaturate` | é™ä½é¥±å’Œåº¦ | æŸ”å’Œä½é¥±å’Œ |

### é»‘ç™½æ•ˆæœ

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `black-white` | ç»å…¸é»‘ç™½ | é»‘ç™½æ•ˆæœ |
| `high-contrast-bw` | é«˜å¯¹æ¯”é»‘ç™½ | å¼ºçƒˆé»‘ç™½ |

### ç‰¹æ®Šæ•ˆæœ

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `dream` | æ¢¦å¹» | æŸ”ç„¦æ¢¦å¹» |
| `bleach-bypass` | æ¼‚ç™½æ•ˆæœ | é“¶ç›æ¼‚ç™½ |
| `cross-process` | äº¤å‰å†²å° | è‰²å½©åç§» |
| `vignette` | æš—è§’ | æ·»åŠ æš—è§’ |

### è‡ªç„¶é£æ ¼

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `natural` | è‡ªç„¶ | çœŸå®è‰²å½© |
| `vivid-nature` | é²œè‰³è‡ªç„¶ | å¢å¼ºè‡ªç„¶è‰² |

### å†å²äººç‰©ä¸“ç”¨

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `historical-portrait` | å†å²äººç‰©è‚–åƒ | æ¸©æš–å¤å¤çš„å†å²äººç‰©ä¸“ç”¨æ»¤é•œï¼Œé‡‘æ£•è‰²è°ƒ |
| `golden-age` | é»„é‡‘æ—¶ä»£ | ç»å…¸é»„é‡‘æ—¶ä»£ç”µå½±é£æ ¼ï¼Œæ¸©æš–æ€€æ—§ |
| `vintage-documentary` | å¤å¤çºªå½•ç‰‡ | çºªå½•ç‰‡é£æ ¼çš„å¤å¤æ•ˆæœï¼Œé€‚åˆå†å²é¢˜æ |
| `sepia-warm` | æ¸©æš–æ£•è¤ | æ¸©æš–ç‰ˆæœ¬çš„æ£•è¤è‰²æ•ˆæœï¼Œæ›´æœ‰å†å²æ„Ÿ |
| `old-film-grain` | è€èƒ¶ç‰‡é¢—ç²’ | å¸¦é¢—ç²’æ„Ÿçš„è€èƒ¶ç‰‡æ•ˆæœï¼Œå†å²è´¨æ„Ÿå¼ºçƒˆ |
| `bronze-tone` | é’é“œè‰²è°ƒ | é’é“œè‰²è°ƒæ•ˆæœï¼Œåº„é‡çš„å†å²æ„Ÿ |

### å¤œæ™¯æ•ˆæœ

| æ»¤é•œåç§° | æ•ˆæœæè¿° | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| `night-vision` | å¤œè§† | å¤œè§†ä»ªæ•ˆæœ |
| `moonlight` | æœˆå…‰ | æœˆå…‰è“è‰²è°ƒ |

## âš™ï¸ é…ç½®é€‰é¡¹

### å‘½ä»¤è¡Œå‚æ•°

```bash
npx node-ffmpeg-tools filter [é€‰é¡¹]

é€‰é¡¹:
  -i, --input <file>        è¾“å…¥è§†é¢‘æ–‡ä»¶è·¯å¾„ (å¿…éœ€)
  -o, --output <file>       è¾“å‡ºè§†é¢‘æ–‡ä»¶è·¯å¾„ (å¯é€‰ï¼Œè‡ªåŠ¨ç”Ÿæˆ)
  -p, --preset <name>       é¢„è®¾æ»¤é•œåç§°
  -c, --custom <filter>     è‡ªå®šä¹‰FFmpegæ»¤é•œå­—ç¬¦ä¸²
  -q, --quality <level>     è¾“å‡ºè´¨é‡: high, medium, low (é»˜è®¤: high)
  --keep-audio <bool>       æ˜¯å¦ä¿ç•™éŸ³é¢‘ (é»˜è®¤: true)
  -l, --list                åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ»¤é•œ
```

### é…ç½®æ–‡ä»¶ (config.mjs)

```javascript
export default {
  filter: {
    input: "input/video.mp4",
    output: "output/filter/video_filtered.mp4", // å¯é€‰
    preset: "cinematic-warm",
    // customFilter: "eq=contrast=1.2", // ä¸presetäºŒé€‰ä¸€
    quality: "high", // high, medium, low
    keepAudio: true
  }
}
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç”µå½±æš–è‰²è°ƒ

```bash
npx node-ffmpeg-tools filter \
  -i input/video.mp4 \
  -p cinematic-warm \
  -q high
```

### ç¤ºä¾‹ 2: å¤å¤èƒ¶ç‰‡æ•ˆæœ

```bash
npx node-ffmpeg-tools filter \
  -i input/video.mp4 \
  -p vintage-film \
  -o output/vintage_video.mp4
```

### ç¤ºä¾‹ 3: è‡ªå®šä¹‰æ»¤é•œ

```bash
npx node-ffmpeg-tools filter \
  -i input/video.mp4 \
  -c "eq=contrast=1.3:saturation=1.2,colorbalance=rs=0.1"
```

### ç¤ºä¾‹ 4: æ‰¹é‡å¤„ç†ï¼ˆä½¿ç”¨é…ç½®æ–‡ä»¶ï¼‰

```javascript
// config.mjs
export default {
  filter: {
    input: "output/merge-video/merged.mp4",
    preset: "cinematic-teal-orange",
    quality: "high"
  }
}
```

```bash
npx node-ffmpeg-tools filter
```

## ğŸ¯ è´¨é‡è®¾ç½®è¯´æ˜

| è´¨é‡çº§åˆ« | CRFå€¼ | ç¼–ç é€Ÿåº¦ | æ–‡ä»¶å¤§å° | é€‚ç”¨åœºæ™¯ |
|---------|-------|---------|---------|---------|
| `high` | 18 | æ…¢ | å¤§ | æœ€ç»ˆè¾“å‡ºã€ä¸“ä¸šä½œå“ |
| `medium` | 23 | ä¸­ç­‰ | ä¸­ç­‰ | ä¸€èˆ¬ç”¨é€”ã€ç½‘ç»œåˆ†äº« |
| `low` | 28 | å¿« | å° | é¢„è§ˆã€æµ‹è¯• |

## ğŸ’¡ é«˜çº§æŠ€å·§

### 1. ç»„åˆå¤šä¸ªæ»¤é•œ

ä½¿ç”¨è‡ªå®šä¹‰æ»¤é•œå­—ç¬¦ä¸²ç»„åˆå¤šä¸ªæ•ˆæœï¼š

```bash
npx node-ffmpeg-tools filter \
  -i input.mp4 \
  -c "eq=contrast=1.2:saturation=1.3,vignette=PI/4,curves=vintage"
```

### 2. åˆ›å»ºè‡ªå·±çš„é¢„è®¾

ä¿®æ”¹ `lib/filter.mjs` ä¸­çš„ `FILTER_PRESETS` å¯¹è±¡æ·»åŠ è‡ªå®šä¹‰é¢„è®¾ï¼š

```javascript
'my-custom-filter': {
  name: 'æˆ‘çš„è‡ªå®šä¹‰æ»¤é•œ',
  description: 'æè¿°æ•ˆæœ',
  filter: 'eq=contrast=1.2:saturation=1.3'
}
```

### 3. æ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘

åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼š

```bash
#!/bin/bash
for video in input/*.mp4; do
  npx node-ffmpeg-tools filter -i "$video" -p cinematic-warm
done
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ»¤é•œï¼Ÿ

A: 
- **äººç‰©è§†é¢‘**: `cinematic-warm`, `soft-glow`, `natural`
- **é£æ™¯è§†é¢‘**: `vivid-nature`, `cinematic-teal-orange`
- **æ€€æ—§é£æ ¼**: `vintage-film`, `sepia`, `80s-vhs`
- **è‰ºæœ¯åˆ›ä½œ**: `dramatic`, `dream`, `cross-process`

### Q: å¤„ç†é€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ

A: 
1. ä½¿ç”¨è¾ƒä½çš„è´¨é‡è®¾ç½® (`-q medium` æˆ– `-q low`)
2. å…ˆç”¨ä½è´¨é‡é¢„è§ˆæ•ˆæœï¼Œç¡®å®šåå†ç”¨é«˜è´¨é‡è¾“å‡º
3. è€ƒè™‘ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿï¼ˆéœ€è¦FFmpegæ”¯æŒï¼‰

### Q: å¦‚ä½•ä¿æŒåŸè§†é¢‘è´¨é‡ï¼Ÿ

A: ä½¿ç”¨ `-q high` å‚æ•°ï¼Œè¿™ä¼šä½¿ç”¨CRF 18å’Œæ…¢é€Ÿç¼–ç ï¼Œæ¥è¿‘æ— æŸè´¨é‡ã€‚

### Q: å¯ä»¥ç§»é™¤éŸ³é¢‘å—ï¼Ÿ

A: ä½¿ç”¨ `--keep-audio false` å‚æ•°æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® `keepAudio: false`ã€‚

## ğŸ“š ç›¸å…³èµ„æº

- [FFmpegæ»¤é•œæ–‡æ¡£](https://ffmpeg.org/ffmpeg-filters.html)
- [è‰²å½©åˆ†çº§åŸºç¡€](https://www.premiumbeat.com/blog/color-grading-101/)
- [ç”µå½±è‰²è°ƒå‚è€ƒ](https://www.studiobinder.com/blog/what-is-color-grading/)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤æ–°çš„æ»¤é•œé¢„è®¾ï¼è¯·åœ¨ GitHub ä¸Šåˆ›å»º Pull Requestã€‚
